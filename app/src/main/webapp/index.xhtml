<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
    <title>Zalogowano</title>
    <h:outputStylesheet name="main.css" library="css"/>
    <h:outputStylesheet name="bootstrap.min.css" library="css"/>
</h:head>

<h:body style="height: 100%">
    <div class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow position-relative">
        <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="index.xhtml">Allezon</a>
        <h3 style="color: whitesmoke">Witaj #{name} #{surname}!</h3>
    </div>
    <div class="container-fluid">
        <div class="row" style="height: 100%">
            <div class="col-md-2 d-none d-md-block bg-dark sidebar position-relative">
                <h:form>
                    <h:outputLink style="margin-top: 5px" styleClass="btn btn-primary btn-block" value="addAuction.xhtml">Dodaj aukcje</h:outputLink>
                    <h:outputLink style="margin-top: 5px" styleClass="btn btn-primary btn-block" value="myAuctions.xhtml">Moje aukcje</h:outputLink>
                    <h:outputLink rendered="#{auctionController.isUserAdmin}" style="margin-top: 5px" styleClass="btn btn-warning btn-block" value="admin.xhtml">Admin panel</h:outputLink>
                    <h:commandButton style="margin-top: 5px" action="#{loginController.logout}" value="Logout" styleClass="btn btn-danger btn-block"/>
                </h:form>
            </div>
            <div class="pt-5 col-xs-2 col-md-8 col-sm-5 mx-auto">
                <div class="card bg-dark">
                    <div class="card-body">
                        <label>Aukcje:</label>
                        <table class="table table-borderless table-light">
                            <tbody>
                            <c:if test="${empty auctionController.auctions}"><tr><th scope="col">Nie dodano Żadnych aukcji</th></tr></c:if>
                                <c:if test="${not empty auctionController.auctions}">
                                    <c:forEach items="#{auctionController.auctions}" var="names">
                                        <tr>
                                            <td>
                                                <h:graphicImage value="/images/#{names.photos[0].url}" width="100" height="100"/>
                                            </td>
                                            <td>
                                                <h:outputText value="#{names.title}"/>
                                            </td>
                                            <td>
                                                <h:outputText value="#{names.price} zł"/>
                                            </td>
                                        </tr>
                                    </c:forEach>
                                </c:if>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</h:body>
</html>
